= Дата/время

Элемент управления `_Дата/время_` предназначен для ввода и отображения даты или даты и времени из связанного поля карточки.

Интерфейс элемента управления зависит от свойства `*Режим редактирования*`:

* *_Редактирование_*, В данном режиме ЭУ представляет собой поле для ввода значения, которое также можно выбрать из календаря (открывается кнопкой image:buttons/openCalendar.png[Календарь]).
+
* В режиме *_По месту_* новое значение автоматически сохраняется в карточку.
+
.Элемент управления "Дата/время" в режиме редактирования "По месту"
image::dateEditMode.png[Элемент управления "Дата/время" в режиме редактирования "По месту"]
+
.Пример календаря для выбора значения
image::calendar.png[Календарь элемента управления "Дата/время"]
+
* *_Без редактирования_*. В данном режиме ЭУ представляет собой строку, в которой отображается значение даты и времени из поля карточки.
+
.Элемент управления "Дата/время" в режиме без редактирования
image::dateReadMode.png[Элемент управления "Дата/время" в режиме без редактирования]

== Свойства

include::partial$properties.adoc[tags=general]

=== Внешний вид

include::partial$properties.adoc[tags=filler]

[#noTime]
==== Отображать диалог выбора времени

Флаг позволяет отключить или включить отображение диалога выбора времени для элемента управления. По умолчанию флаг активен, то есть диалог выбора времени отображается.

Когда флаг неактивен, пользователю доступен только календарь для выбора даты, время можно указать вручную с клавиатуры.

NOTE: Диалог выбора времени доступен в разметках редактирования или редактирования по месту и только, если в свойстве <<type,Тип>> выбран пункт *Дата и время*.

include::partial$properties.adoc[tags=displayLabelWithoutDefinition]

==== Подсвечивать просроченность

Дата и время в ЭУ будут подсвечены красным цветом (значение по умолчанию), если установленный срок превышен.

* Флаг установлен. ЭУ будет подсвечен, если текущаие дата и/или время превышают значения ЭУ.
* Флаг не установлен. Сроки не проверяются, ЭУ не будет подсвечен.

ЭУ предоставляет возможность изменить цвет сигнализирования о просрочке. К примеру, чтобы установить зеленый цвет сигнализирования, создайте в папке `C:\Program Files (x86)Docsvision\WebClient\5.5\Site\Content\Solutions\SampleSolution\Styles\` файл `sample.css` с содержимым:
+
[source,css]
----
.system-datetimepicker.highlight-overdue.overdue:not(.edit-mode) .labeled-text-helper .text-cell .labeled-text { <.>
font-weight: bold;
color: green;
}
----
<.> not(.edit-mode) -- Данный стиль будет использован только при просмотре карточки.

include::partial$properties.adoc[tags=hint]

include::partial$properties.adoc[tags=labelText]

[#type]
==== Тип

Формат представления времени в элементе управления:

* *_Дата и время_*. Отображаются и могут быть изменены дата и время.
* *_Дата_*. Отображается и может быть изменена дата.

=== Данные

include::partial$properties.adoc[tags=extendedDataSource]

include::partial$properties.adoc[tags=dataSource]

==== Поле данных

Поле типа *_Дата/время_* с данными элемента управления.

include::partial$properties.adoc[tags=editOperation]

=== Значение по умолчанию

[#timeByDefault]
==== Время по умолчанию

Свойство недоступно в режиме редактирования по месту, доступно только в режиме редактирования.

Время, которое будет установлено по умолчанию в ЭУ:

* *_Текущее время_*. Будет установлено текущее время.
* *_Начало дня_*. Будет установлено время `00:00`.
* *_Начало рабочего дня_*. Будет установлено время начала рабочего дня из бизнес-календаря.
* *_Конец дня_*. Будет установлено время `23:59`.
* *_Конец рабочего дня_*. Будет установлено время конца рабочего дня из бизнес-календаря.

Если выбрано значение *_Начало рабочего дня_* или *_Конец рабочего дня_*, то при расчете времени будет использован бизнес-календарь:

* Календарь по умолчанию, который выбран в справочнике _Системные настройки_ (menu:Системные настройки[Делопроизводство > Задачи и задания > Расширенные настройки > Бизнес-календарь по умолчанию]).
* Если не выбран календарь по умолчанию, будет использован системный бизнес-календарь (рабочий день с 9 до 18 часов, суббота и воскресенье -- выходной).

==== Значение по умолчанию

Свойство недоступно в режиме редактирования по месту, доступно только в режиме редактирования.

Дата и время, которые будут установлены по умолчанию в ЭУ. Флаг `*Текущая дата*` должен быть снят. Если в свойствах ЭУ установлено смещение значения по умолчанию, то значение ЭУ будет скорректировано с учетом этого параметра.

Если время не указано (время `00:00`), то в значении ЭУ время будет получено из бизнес-календаря -- время начала рабочего дня.footnote:[Правила выбора календаря приведены в описании свойства <<timeByDefault,Время по умолчанию>>].

Аналогичное поведение будет при работе с ЭУ в карточке: если стереть время, после выбора даты будет установлено время, полученное из бизнес-календаря.

==== Смещение значения по умолчанию (в часах)

Количество часов (целое число), которое будет прибавлено к предварительному значению ЭУ, вычисленому из значения свойств `*Значение по умолчанию*` или `*Время по умолчанию*`. Можно указывать отрицательное значение. Например, чтобы сдвинуть время по умолчанию на день вперед, в поле `*Смещение значения по умолчанию*` нужно ввести значение "24" (часа).

==== Текущие дата и время

* Когда флаг установлен, в ЭУ будет установлена по умолчанию текущая дата.
* Когда флаг не установлен, в ЭУ будет установлена по умолчанию дата из свойства *_Значение по умолчанию_*.

=== Поведение

include::partial$properties.adoc[tags=visibility]

include::partial$properties.adoc[tags=addCss]

include::partial$properties.adoc[tags=editOperationForVisibility]

include::partial$properties.adoc[tags=disabled]

==== Запретить выбор будущих дат

При установленном флаге пользователю будет запрещено устанавливать и выбирать из календаря даты, позже текущей. Если введена запрещенная дата, будет выдана ошибка.

==== Запретить выбор прошедшей даты

При установленном флаге пользователю будет запрещено устанавливать и выбирать из календаря даты, раньше текущей. Если введена запрещенная дата, будет выдана ошибка.

include::partial$properties.adoc[tags=byTab]

include::partial$properties.adoc[tags=editMode]

include::partial$properties.adoc[tags=stdCss]

=== События

include::partial$properties.adoc[tags=mouseOver]

include::partial$properties.adoc[tags=mouseAway]

include::partial$properties.adoc[tags=dataChanged]

include::partial$properties.adoc[tags=onClick]
