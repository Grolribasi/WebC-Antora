= Файл

Элемент `_Файл_` предназначен для работы с файлами карточек. В отличие от элемента xref:appendix/files.adoc[Список файлов] данный элемент позволяет работать с файлами любых типов карточек, но не разделяет файлы на основные и дополнительные, а также не предоставляет функций для работы с электронными подписями.

Интерфейс элемента зависит от наличия загруженного файла, способа добавления файла и его настроек:

* Элемент содержит настроенную текстовую метку, если файл не добавлен:
+
.Текстовая метка "Добавьте файл"
image::file-picker-no-value.png[Текстовая метка "Добавьте файл"]
+
* Когда файл добавляется методом перетаскивания:
+
.Файл добавляется перетаскиванием
image::file-picker-drag-drop.png[Файл добавляется перетаскиванием]
+
* Когда файл добавлен:
+
.Файл в списке
image::file-picker.png[Файл в списке]

После сохранения карточки, возможна работа с версиями файла. В этом случае в интерфейс добавляется номер версии.

.Файл с номером версии
image::file-picker-versioned.png[Файл с номером версии]

Далее перечислены функции, предоставляемые элементом `_Файл_`. Некоторые из указанных функций будут недоступны, если в настройках элемента отключена поддержка работы с версиями файла или у пользователя отсутствуют права на выполнения операции.

== Добавление файлов

.Добавить файл можно двумя способами:
* Перетащите файл из файловой системы в область элемента `_Файл_`.
* Когда файл не добавлен, нажмите на элемент и выберите файл с помощью Проводника.

[#conditions]
.Условия добавления файлов:

* Типы файлов, которые можно добавлять: `.docx`, `.pdf`, `.rtf`, `.dot`, `.doc`, `.dotm`, `.docm`, `.dotx`, `.ods`, `.odt`, `.csv`, `.xlt`, `.xls`, `.xltm`, `.xlsm`, `.xltx`, `.xlsx`, `.jpg`, `.jpeg`, `.gif`, `.png`, `.bmp`, `.tiff`, `.tif`, `.emf`, `.wmf`, `.xslt`, `.xsl`, `.xml`, `.htm`, `.html`, `.txt`, `.log`, `.cs`, `.asmx`, `.ascx`, `.aspx`, `.js`, `.cpp`, `.h`, `.css`, `.idl`, `.ini`, `.java`, `.rc`, `.rc2`, `.shtm`, `.shtml`, `.sql`, `.zip`, `.rar`, `.7z`, `.vsd`, `.vsdx`, `.msg`, `.one`, `.pptx`, `.ppt`, `.avi`, `.wav`.

TIP: Для возможности загрузки файлов .ascx, .cs и .java требуется xref:admin:install-after.adoc#java[дополнительная настройка].

include::partial$excerpts.adoc[tags=letters]

== Удаление файлов

.Чтобы удалить файл:
* Из создаваемой карточки, нажмите кнопку image:buttons/x-red-itallic.png[Крестик].
* Из существующей карточки, нажмите на название файла и выберите *Удалить*. Удаляемый файл, а также его карточка должны быть разблокированы.
+
WARNING: При удалении будут удалены все версии данного файла.

== Редактирование файла

Чтобы открыть файл в связанной программе, нажмите на название файла и нажмите *Открыть*. Данная возможность доступна только для файлов Microsoft Office (соответствующие программы должны быть установлены): `.doc`, `.docx`, `.docm`, `.xls`, `.xlsx`, `.xlsm`, `.ppt`, `.pptx`, `.odt` и `.ods`. Открытый для редактирования файл будет заблокирован от изменений со стороны других пользователей.

Если xref:layouts:ctrl/standard/filePicker.adoc#versioning[в настройках] элемента управления включено свойство версионинг, при сохранении файла с изменениями будет создана новая версия.

.Условия редактирования файла:
****
До завершения редактирования файла не закрывайте карточку, из которой он был открыт.

include::partial$excerpts.adoc[tags=openOnlyInIE]
****

== Предварительный просмотр

Для открытия файла в режиме предпросмотра щелкните по названию файла и нажмите *Предварительный просмотр*. Данная функция поддерживается только для файлов: `.doc`, `.docx`, `.xls`, `.xlsx`, `.txt`, `.odt`, `.ods`, `.pdf`, `.png`, `.jpg`, `.tiff`, `.bmp`, `.gif`.

== Скачивание файла

Чтобы скачать файл на устройство, нажмите на название файла и выберите *Скачать*.

== Замена файла

Текущий файл может быть заменён на другой, соответствующий требованиям для добавления файла. Если в xref:layouts:ctrl/standard/filePicker.adoc#versioning[настройках элемента управления] включено свойство версионинг, будет заменена текущая версия. Чтобы заменить файл, нажмите на название файла, затем *Заменить* и выберите новый файл из хранилища устройства.

== Загрузка новой версии файла

Чтобы загрузить новую версию файла, нажмите на название файла, затем *Загрузить версию* и выберите новую версию файла из хранилища устройства.

IMPORTANT: Тип файла должен совпадать с типом файла, версия которого добавляется.

Возможность создания новой версии доступна только, если в xref:layouts:ctrl/standard/filePicker.adoc#versioning[настройках элемента управления] `_Файл_` включено свойство версионинг.

После загрузки версии номер текущей версии увеличится.

.Файл с новой версией
image::file-nicker-new-version.png[Файл с новой версией]

== Просмотр версий файла

Текущая версия файла отображается справа от его названия. Чтобы ознакомиться с другими версиями файла, нажмите на номер текущей версии (на рисунке выше -- `в. 2`).

Будет открыто диалоговое окно со списком версий.

.Список версий файла
image::file-picker-versions.png[Список версий файла]

Чтобы открыть версии файла в режиме предварительного просмотра, нажмите на номер версии.

Чтобы сохранить версию на устройство, нажмите кнопку image:buttons/arrow-download-grey.png[Скачать файлы].

== Добавление комментария к версии

Для добавления комментария к текущей версии щелкните по названию файла и нажмите *Добавить комментарий*. Будет открыто окно комментирования версии.

TIP: В окне отображаются комментарии пользователей для текущей версии.

.Комментарии к версии
image::file-picker-comments.png[Комментарии к версии]

Введите комментарий в строку ввода и нажмите кнопку *Сохранить*.

Добавленные комментарии отображаются в окне просмотра версий файла.

== Список файлов

Для работы с коллекцией файлов карточки используется элемент `_Файл_`, встроенный в элемент xref:appendix/table.adoc[Таблица].

.Таблица для работы с файлами
image::files-in-able.png[Таблица для работы с файлами]

== Добавление файлов

Добавить файл можно двумя способами:

* Перетащите файлы из файловой системы в область элемента `_Таблица_`.
* Нажмите кнопку image:buttons/add-file.png[Файл с плюсом внутри] и выберите файлы с помощью Проводника.

Условия добавления файлов аналогичны ,условиям добавления одиночного файла, приведенным <<conditions,выше>>.

== Скачивание всех файлов

Чтобы скачать все файлы, которые отображаются в списке, нажмите кнопку image:buttons/folder-contour-arrow.png[Папка со стрелкой].

== Удаление строки с файлом из списка

Чтобы удалить строку из таблицы, нажмите кнопку image:buttons/recycle-bin.png[Корзина] в строке с файлом.

[WARNING]
====
При этом будет удалена вся строка и файл, который был указан в строке.

При удалении файла с помощью команды *Удалить* контекстного меню файла будет удалён только файл, строка из таблицы не удаляется.
====

Операции с файлами выполняются аналогично рассмотренным выше для одиночных файлов.
